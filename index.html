<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARQUEIRO ROULETTE - Sistema Final</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* ========== ESTILO DO SISTEMA DE ACESSO ========== */
        .access-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0A0A0A, #1A1A1A);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Montserrat', sans-serif;
        }
        
        .access-box {
            background: rgba(26, 26, 26, 0.95);
            border: 2px solid #D4AF37;
            border-radius: 15px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .access-title {
            color: #D4AF37;
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .access-input {
            width: 100%;
            padding: 15px;
            margin: 20px 0;
            background: #0A0A0A;
            border: 2px solid #333;
            border-radius: 10px;
            color: white;
            font-size: 16px;
            text-align: center;
        }
        
        .access-btn {
            background: linear-gradient(135deg, #D4AF37, #B8860B);
            color: black;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            margin-bottom: 20px;
        }
        
        .access-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-size: 14px;
        }
        
        .access-success {
            background: rgba(46, 139, 87, 0.2);
            border: 1px solid #2E8B57;
            color: #90EE90;
        }
        
        .access-error {
            background: rgba(220, 20, 60, 0.2);
            border: 1px solid #DC143C;
            color: #FF7F7F;
        }
        
        /* ========== CSS ORIGINAL ========== */
        :root {
            --gold: #D4AF37;
            --gold-light: #F4E4A6;
            --gold-dark: #B8860B;
            --dark-bg: #0A0A0A;
            --darker-bg: #050505;
            --panel-bg: #1A1A1A;
            --border-color: #333;
            --text-light: #F5F5F5;
            --text-dim: #AAAAAA;
            --green: #2E8B57;
            --red: #DC143C;
            --blue: #4169E1;
            --border-radius: 10px;
            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-light);
            font-family: 'Montserrat', sans-serif;
            line-height: 1.6;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(212, 175, 55, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(212, 175, 55, 0.05) 0%, transparent 20%);
        }

        .main-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.9), rgba(26, 26, 26, 0.9));
            border-radius: var(--border-radius);
            border: 1px solid var(--gold);
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        .main-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
        }

        .brand {
            margin-bottom: 10px;
        }

        .brand h1 {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            color: var(--gold);
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            letter-spacing: 3px;
            margin-bottom: 5px;
        }

        .brand h2 {
            font-family: 'Cinzel', serif;
            font-size: 2.2rem;
            color: var(--gold-light);
            letter-spacing: 2px;
        }

        .warning {
            color: var(--red);
            font-size: 0.9rem;
            margin-top: 10px;
            font-weight: 500;
            padding: 8px 20px;
            border: 1px solid var(--red);
            border-radius: 20px;
            display: inline-block;
            background: rgba(220, 20, 60, 0.1);
        }

        .cta-message {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(180, 134, 11, 0.1));
            border: 1px solid var(--gold);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 25px;
            text-align: center;
            font-size: 1.1rem;
            color: var(--gold-light);
            position: relative;
        }

        .cta-message strong {
            color: var(--gold);
            font-size: 1.2rem;
        }

        /* ========== PAINEL DE ESTAT√çSTICAS ========== */
        .stats-panel {
            background: linear-gradient(135deg, rgba(26,26,26,0.9), rgba(10,10,10,0.9));
            border: 1px solid var(--gold);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 25px;
        }

        .stats-title {
            font-family: 'Cinzel', serif;
            color: var(--gold);
            font-size: 1.4rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gold-dark);
            text-align: center;
        }

        .stats-section {
            margin-bottom: 20px;
        }

        .stats-section:last-child {
            margin-bottom: 0;
        }

        .stats-section-title {
            font-size: 0.9rem;
            color: var(--text-dim);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-align: center;
        }

        .stats-grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            width: 100%;
        }

        .stats-grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 100%;
        }

        .stat-group {
            text-align: center;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            width: 100%;
        }

        .stat-group-label {
            font-size: 0.9rem;
            color: var(--text-dim);
            margin-bottom: 8px;
        }

        .stat-group-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--gold);
            font-family: 'Cinzel', serif;
        }

        .stat-group-sub {
            font-size: 0.7rem;
            color: var(--text-dim);
            margin-top: 5px;
        }

        .highlight-stat {
            border: 1px solid var(--gold);
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
            background: rgba(212, 175, 55, 0.1);
        }

        /* ========== TABELA DE N√öMEROS ========== */
        .roulette-table {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }
        
        .zero-row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .number-btn.zero {
            width: 80px;
            height: 60px;
            background: linear-gradient(135deg, var(--green), #228B22);
            font-size: 1.5rem;
        }
        
        .numbers-row {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 5px;
        }
        
        .number-btn {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            color: white;
            background: var(--darker-bg);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 8px;
        }

        .number-btn:hover {
            transform: scale(1.05);
            border-color: var(--gold);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .number-btn.red {
            background: linear-gradient(135deg, var(--red), #B22222);
        }

        .number-btn.black {
            background: linear-gradient(135deg, #333, #111);
        }

        /* ========== SEU CSS ORIGINAL CONTINUA ========== */
        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 1000px) {
            .container {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background-color: var(--panel-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            border: 1px solid var(--border-color);
            box-shadow: var(--box-shadow);
            margin-bottom: 25px;
            transition: transform 0.3s ease;
        }

        .panel:hover {
            transform: translateY(-5px);
        }

        .panel-title {
            font-family: 'Cinzel', serif;
            color: var(--gold);
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--gold-dark);
            display: flex;
            align-items: center;
        }

        .panel-title i {
            margin-right: 10px;
            color: var(--gold-light);
        }

        .input-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .input-group {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .number-input {
            flex: 1;
            min-width: 200px;
        }

        .number-input input {
            width: 100%;
            padding: 15px;
            background-color: var(--darker-bg);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            color: var(--text-light);
            font-size: 1.3rem;
            text-align: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .number-input input:focus {
            outline: none;
            border-color: var(--gold);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: var(--border-radius);
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: var(--dark-bg);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--gold-light), var(--gold));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #444, #333);
            color: var(--text-light);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #555, #444);
            transform: translateY(-2px);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--red), #B22222);
            color: white;
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #FF4444, var(--red));
            transform: translateY(-2px);
        }

        .numbers-history {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 20px;
            padding: 20px;
            background-color: var(--darker-bg);
            border-radius: var(--border-radius);
            min-height: 100px;
            border: 1px solid var(--border-color);
        }

        .number-chip {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-weight: bold;
            font-size: 1.4rem;
            color: white;
            position: relative;
            transition: transform 0.2s ease;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
        }

        .number-chip:hover {
            transform: scale(1.1);
        }

        .number-chip.zero {
            background: linear-gradient(135deg, var(--green), #228B22);
        }

        .number-chip.red {
            background: linear-gradient(135deg, var(--red), #B22222);
        }

        .number-chip.black {
            background: linear-gradient(135deg, #333, #111);
        }

        .number-chip.latest {
            border: 3px solid var(--gold);
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.7);
        }

        .stats-grid-5 {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 1200px) {
            .stats-grid-5 {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .stats-grid-5 {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .stat-box {
            text-align: center;
            padding: 20px 15px;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(10, 10, 10, 0.8));
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--gold);
            font-family: 'Cinzel', serif;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-dim);
            margin-top: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .confirmed-highlight {
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.1), rgba(26, 26, 26, 0.9));
            border: 2px solid var(--green);
            margin-bottom: 30px;
            animation: pulse-glow 2s infinite;
        }

        @keyframes pulse-glow {
            0% { box-shadow: 0 0 5px rgba(46, 139, 87, 0.5); }
            50% { box-shadow: 0 0 20px rgba(46, 139, 87, 0.8); }
            100% { box-shadow: 0 0 5px rgba(46, 139, 87, 0.5); }
        }

        .pattern-card {
            border-left: 5px solid var(--gold);
            padding: 20px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9), rgba(10, 10, 10, 0.9));
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .pattern-card:hover {
            border-left-color: var(--gold-light);
        }

        .pattern-card.confirmed {
            border-left-color: var(--green);
        }

        .pattern-card.cancelled {
            border-left-color: var(--red);
        }

        .pattern-card.green {
            border-left-color: var(--green);
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.1), rgba(10, 10, 10, 0.9));
        }

        .pattern-card.red {
            border-left-color: var(--red);
            background: linear-gradient(135deg, rgba(220, 20, 60, 0.1), rgba(10, 10, 10, 0.9));
        }

        .pattern-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .pattern-title {
            font-weight: bold;
            font-size: 1.3rem;
            color: var(--gold-light);
        }

        .pattern-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .status-active {
            background-color: rgba(212, 175, 55, 0.2);
            color: var(--gold);
            border: 1px solid var(--gold);
        }

        .status-confirmed {
            background-color: rgba(46, 139, 87, 0.2);
            color: var(--green);
            border: 1px solid var(--green);
        }

        .status-cancelled {
            background-color: rgba(220, 20, 60, 0.2);
            color: var(--red);
            border: 1px solid var(--red);
        }

        .status-fraco {
            background-color: rgba(100, 100, 100, 0.2);
            color: #CCCCCC;
            border: 1px solid #666;
        }

        .status-bom {
            background-color: rgba(212, 175, 55, 0.2);
            color: var(--gold);
            border: 1px solid var(--gold);
        }

        .status-top {
            background-color: rgba(46, 139, 87, 0.3);
            color: var(--green);
            border: 1px solid var(--green);
        }

        .pattern-details {
            margin-bottom: 10px;
            color: var(--text-dim);
        }

        .pattern-target {
            font-size: 1.1rem;
            color: var(--gold-light);
            margin: 10px 0;
            padding: 10px;
            background-color: rgba(212, 175, 55, 0.1);
            border-radius: var(--border-radius);
            font-weight: 600;
        }

        .pattern-numbers {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .pattern-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .pattern-number.target {
            border: 2px solid var(--gold);
            box-shadow: 0 0 8px rgba(212, 175, 55, 0.7);
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }

        .tab {
            padding: 12px 25px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 500;
            color: var(--text-dim);
        }

        .tab.active {
            border-bottom: 3px solid var(--gold);
            color: var(--gold);
            background-color: rgba(212, 175, 55, 0.05);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .strategy-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        @media (max-width: 768px) {
            .strategy-list {
                grid-template-columns: 1fr;
            }
        }

        .strategy-card {
            padding: 15px;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9), rgba(10, 10, 10, 0.9));
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .strategy-name {
            font-family: 'Cinzel', serif;
            color: var(--gold);
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .strategy-desc {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        .wheel-sequence {
            font-family: 'Courier New', monospace;
            background-color: var(--darker-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            margin-top: 15px;
            font-size: 1.1rem;
            color: var(--gold-light);
            text-align: center;
            line-height: 1.8;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            color: var(--text-dim);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .brand h1 {
                font-size: 2.5rem;
            }
            
            .brand h2 {
                font-size: 1.8rem;
            }
            
            .panel {
                padding: 20px;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .number-input {
                min-width: 100%;
            }
            
            .btn {
                width: 100%;
            }
            
            .stats-grid-3 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- SISTEMA DE ACESSO -->
    <div id="accessSystem" class="access-overlay">
        <div class="access-box">
            <h1 class="access-title">üéØ ARQUEIRO ROULETTE</h1>
            <p style="color: var(--text-dim); margin-bottom: 30px;">Sistema VIP - Acesso Exclusivo</p>
            
            <p>Digite seu email autorizado:</p>
            
            <input type="email" id="accessEmail" class="access-input" placeholder="seu@email.com" autocomplete="off">
            
            <button class="access-btn" onclick="verificarAcesso()">üîì ENTRAR NO SISTEMA</button>
            
            <div id="accessMessage" class="access-message"></div>
            
            <p style="color: #666; font-size: 14px; margin-top: 30px;">
                N√£o tem acesso? Entre em contato com o administrador.
            </p>
        </div>
    </div>
    
    <!-- SISTEMA PRINCIPAL -->
    <div id="mainSystem" style="display: none;">
        <header class="main-header">
            <div class="brand">
                <h1>ARQUEIRO</h1>
                <h2>ROULETTE</h2>
            </div>
            
            <div class="warning">‚ö†Ô∏è JOGUE COM RESPONSABILIDADE</div>
            
            <div class="cta-message">
                <strong>Gostou? Chame o Arqueiro e aprenda essas e todas as outras an√°lises especiais que ele guarda a 7 chaves!</strong>
            </div>
        </header>

        <!-- PAINEL DE ESTAT√çSTICAS -->
        <div class="stats-panel">
            <div class="stats-title">
                <i>üìä</i> ESTAT√çSTICAS DO JOGO
            </div>
            
            <!-- GRUPOS -->
            <div class="stats-section">
                <div class="stats-section-title">GRUPOS (1,4,7 | 2,5,8 | 0,3,6,9)</div>
                <div class="stats-grid-3">
                    <div class="stat-group" id="grupo147">
                        <div class="stat-group-label"><i>üî¥</i> 1,4,7</div>
                        <div class="stat-group-value" id="percent147">0%</div>
                        <div class="stat-group-sub" id="count147">0/0</div>
                    </div>
                    <div class="stat-group" id="grupo258">
                        <div class="stat-group-label"><i>‚ö´</i> 2,5,8</div>
                        <div class="stat-group-value" id="percent258">0%</div>
                        <div class="stat-group-sub" id="count258">0/0</div>
                    </div>
                    <div class="stat-group" id="grupo0369">
                        <div class="stat-group-label"><i>üü¢</i> 0,3,6,9</div>
                        <div class="stat-group-value" id="percent0369">0%</div>
                        <div class="stat-group-sub" id="count0369">0/0</div>
                    </div>
                </div>
            </div>
            
            <!-- LADOS CIMA10/BAIXO0 -->
            <div class="stats-section">
                <div class="stats-section-title">LADOS (CIMA 10 | BAIXO 0)</div>
                <div class="stats-grid-2">
                    <div class="stat-group" id="ladoCima10">
                        <div class="stat-group-label"><i>‚¨ÜÔ∏è</i> CIMA 10</div>
                        <div class="stat-group-value" id="percentCima10">0%</div>
                        <div class="stat-group-sub" id="countCima10">0/0</div>
                    </div>
                    <div class="stat-group" id="ladoBaixo0">
                        <div class="stat-group-label"><i>‚¨áÔ∏è</i> BAIXO 0</div>
                        <div class="stat-group-value" id="percentBaixo0">0%</div>
                        <div class="stat-group-sub" id="countBaixo0">0/0</div>
                    </div>
                </div>
            </div>
            
            <!-- SETORES LADO E/LADO D -->
            <div class="stats-section">
                <div class="stats-section-title">SETORES (LADO E | LADO D)</div>
                <div class="stats-grid-2">
                    <div class="stat-group" id="ladoE">
                        <div class="stat-group-label"><i>‚¨ÖÔ∏è</i> LADO E</div>
                        <div class="stat-group-value" id="percentLadoE">0%</div>
                        <div class="stat-group-sub" id="countLadoE">0/0</div>
                    </div>
                    <div class="stat-group" id="ladoD">
                        <div class="stat-group-label"><i>‚û°Ô∏è</i> LADO D</div>
                        <div class="stat-group-value" id="percentLadoD">0%</div>
                        <div class="stat-group-sub" id="countLadoD">0/0</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div>
                <div class="panel">
                    <div class="panel-title">
                        <i>üéØ</i> Entrada de N√∫meros
                    </div>
                    
                    <!-- TABELA DE N√öMEROS -->
                    <div class="roulette-table" id="numbersTable"></div>
                    
                    <div class="input-section">
                        <div class="input-group">
                            <div class="number-input">
                                <input type="number" id="numberInput" min="0" max="36" placeholder="Ou digite o n√∫mero">
                            </div>
                            <button class="btn btn-primary" id="addNumberBtn">
                                <span>‚ûï</span> Adicionar
                            </button>
                            <button class="btn btn-secondary" id="clearLastBtn">
                                <span>‚Ü©Ô∏è</span> Apagar √öltimo
                            </button>
                        </div>
                        
                        <div class="input-group">
                            <button class="btn btn-secondary" id="clearBtn">
                                <span>üóëÔ∏è</span> Limpar Hist√≥rico
                            </button>
                            <button class="btn btn-danger" id="resetBtn">
                                <span>üîÑ</span> Reiniciar Tudo
                            </button>
                        </div>
                    </div>
                    
                    <h3 style="margin-top: 25px; color: var(--gold-light);">Hist√≥rico de N√∫meros (√∫ltimos 16)</h3>
                    <div class="numbers-history" id="numbersHistory">
                        <div style="color: var(--text-dim); align-self: center; width: 100%; text-align: center;">
                            Nenhum n√∫mero adicionado ainda
                        </div>
                    </div>
                    
                    <div class="stats-grid-5">
                        <div class="stat-box">
                            <div class="stat-value" id="totalNumbers">0</div>
                            <div class="stat-label">N√∫meros Totais</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="activePatterns">0</div>
                            <div class="stat-label">Padr√µes Ativos</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="confirmedPatterns">0</div>
                            <div class="stat-label">Confirmados</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="greenSignals">0</div>
                            <div class="stat-label">GREEN</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="redSignals">0</div>
                            <div class="stat-label">RED</div>
                        </div>
                    </div>
                </div>
                
                <div id="confirmedPatternsHighlight"></div>
                
                <div class="panel">
                    <div class="panel-title">
                        <i>‚ö°</i> Padr√µes Ativos
                    </div>
                    <div id="activePatternsList">
                        <div style="color: var(--text-dim); text-align: center; padding: 30px;">
                            Nenhum padr√£o ativo no momento
                        </div>
                    </div>
                </div>
            </div>
            
            <div>
                <div class="panel">
                    <div class="tabs">
                        <div class="tab active" data-tab="strategies">Estrat√©gias</div>
                        <div class="tab" data-tab="wheel">Roda</div>
                        <div class="tab" data-tab="terminals">Terminais</div>
                    </div>
                    
                    <div id="strategies-tab" class="tab-content active">
                        <div class="strategy-list">
                            <div class="strategy-card">
                                <div class="strategy-name">Alvo Duplo</div>
                                <div class="strategy-desc">N√∫mero espec√≠fico + 6 vizinhos</div>
                            </div>
                            <div class="strategy-card">
                                <div class="strategy-name">Alvo Alternado</div>
                                <div class="strategy-desc">Terminal com 1 vizinho</div>
                            </div>
                            <div class="strategy-card">
                                <div class="strategy-name">Alvo Vari√°vel</div>
                                <div class="strategy-desc">Sequ√™ncia de terminais</div>
                            </div>
                            <div class="strategy-card">
                                <div class="strategy-name">Alvo Central</div>
                                <div class="strategy-desc">Terminal intermedi√°rio</div>
                            </div>
                            <div class="strategy-card">
                                <div class="strategy-name">Alvo G√™meos</div>
                                <div class="strategy-desc">11, 22, 33 + 2 vizinhos</div>
                            </div>
                            <div class="strategy-card">
                                <div class="strategy-name">Alvo Tri√¢ngulo</div>
                                <div class="strategy-desc">30, 31, 32 + 2 vizinhos</div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="wheel-tab" class="tab-content">
                        <h3 style="color: var(--gold-light); margin-bottom: 15px;">Sequ√™ncia da Roda Europeia</h3>
                        <div class="wheel-sequence">
                            0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26
                        </div>
                        <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-dim);">
                            <strong>Nota:</strong> Para cada n√∫mero, seus vizinhos s√£o os n√∫meros imediatamente anterior e posterior nesta sequ√™ncia.
                        </div>
                    </div>
                    
                    <div id="terminals-tab" class="tab-content">
                        <h3 style="color: var(--gold-light); margin-bottom: 15px;">Terminais (√öltimo D√≠gito)</h3>
                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; margin-top: 15px;">
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T0</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">0,10,20,30</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T1</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">1,11,21,31</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T2</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">2,12,22,32</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T3</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">3,13,23,33</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T4</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">4,14,24,34</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T5</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">5,15,25,35</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T6</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">6,16,26,36</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T7</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">7,17,27</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T8</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">8,18,28</div>
                            </div>
                            <div style="text-align: center; padding: 12px; background-color: var(--darker-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                                <div style="font-weight: bold; color: var(--gold);">T9</div>
                                <div style="font-size: 0.9rem; color: var(--text-dim);">9,19,29</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            ARQUEIRO ROULETTE ¬© 2023 | Sistema de an√°lise para Roleta Europeia
        </div>
    </div>

    <script>
    // ========== SISTEMA DE ACESSO ==========
    const EMAILS_AUTORIZADOS = [
        "jeffinho.oliveira94@gmail.com",
        "hugoalex719@gmail.com",
        "rosejulio14012019@gmail.com",
        "cliente3@yahoo.com.br",
        "gabrieldirectpro@gmail.com",
        "Machadodias7254@gmail.com",
        "Jeissonbrambila@gmail.com",
        "emylimaiara22@gmail.com",
        "helenmanfredi20@gmail.com",
        "gilbertosantosbispo@gmail.com",
        "Paulojk022@gmail.com",
        "loowscar01@gmail.com",
        "valsenirsouza@gmail.com",
        "andreluizsb94@gmail.com"
    ];

    function verificarAcesso() {
        const email = document.getElementById('accessEmail').value.trim().toLowerCase();
        const message = document.getElementById('accessMessage');
        
        message.innerHTML = '';
        message.className = 'access-message';
        
        if (!email || !email.includes('@')) {
            message.innerHTML = '‚ùå Digite um email v√°lido';
            message.className = 'access-message access-error';
            return;
        }
        
        const lista = EMAILS_AUTORIZADOS.map(e => e.toLowerCase());
        
        if (lista.includes(email)) {
            localStorage.setItem('arqueiro_acesso', email);
            message.innerHTML = '‚úÖ Acesso autorizado! Entrando no sistema...';
            message.className = 'access-message access-success';
            
            setTimeout(function() {
                document.getElementById('accessSystem').style.display = 'none';
                document.getElementById('mainSystem').style.display = 'block';
                inicializarSistema();
            }, 1000);
        } else {
            message.innerHTML = '‚ùå Email n√£o autorizado.<br><br>Entre em contato para solicitar acesso.';
            message.className = 'access-message access-error';
        }
    }
    
    document.addEventListener('DOMContentLoaded', function() {
        const emailSalvo = localStorage.getItem('arqueiro_acesso');
        
        if (emailSalvo) {
            const lista = EMAILS_AUTORIZADOS.map(e => e.toLowerCase());
            if (lista.includes(emailSalvo.toLowerCase())) {
                document.getElementById('accessSystem').style.display = 'none';
                document.getElementById('mainSystem').style.display = 'block';
                inicializarSistema();
                return;
            } else {
                localStorage.removeItem('arqueiro_acesso');
            }
        }
        
        document.getElementById('accessSystem').style.display = 'flex';
        document.getElementById('mainSystem').style.display = 'none';
        document.getElementById('accessEmail').focus();
        document.getElementById('accessEmail').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') verificarAcesso();
        });
    });

    // ========== ESTAT√çSTICAS COMPLETAS ==========
    const GRUPO_147 = [1,4,7,10,13,16,19,22,25,28,31,34];
    const GRUPO_258 = [2,5,8,11,14,17,20,23,26,29,32,35];
    const GRUPO_0369 = [0,3,6,9,12,15,18,21,24,27,30,33,36];
    
    const CIMA_10 = [10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26, 0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23];
    const BAIXO_0 = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
    
    const LADO_E = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10];
    const LADO_D = [5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];

    function atualizarEstatisticas() {
        if (numbersHistory.length === 0) {
            document.getElementById('percent147').textContent = '0%';
            document.getElementById('count147').textContent = '0/0';
            document.getElementById('percent258').textContent = '0%';
            document.getElementById('count258').textContent = '0/0';
            document.getElementById('percent0369').textContent = '0%';
            document.getElementById('count0369').textContent = '0/0';
            document.getElementById('percentCima10').textContent = '0%';
            document.getElementById('countCima10').textContent = '0/0';
            document.getElementById('percentBaixo0').textContent = '0%';
            document.getElementById('countBaixo0').textContent = '0/0';
            document.getElementById('percentLadoE').textContent = '0%';
            document.getElementById('countLadoE').textContent = '0/0';
            document.getElementById('percentLadoD').textContent = '0%';
            document.getElementById('countLadoD').textContent = '0/0';
            return;
        }
        
        const total = numbersHistory.length;
        
        let count147 = 0, count258 = 0, count0369 = 0;
        let countCima10 = 0, countBaixo0 = 0;
        let countLadoE = 0, countLadoD = 0;
        
        numbersHistory.forEach(num => {
            if (GRUPO_147.includes(num)) count147++;
            if (GRUPO_258.includes(num)) count258++;
            if (GRUPO_0369.includes(num)) count0369++;
            if (CIMA_10.includes(num)) countCima10++;
            if (BAIXO_0.includes(num)) countBaixo0++;
            if (LADO_E.includes(num)) countLadoE++;
            if (LADO_D.includes(num)) countLadoD++;
        });
        
        const totalGrupos = count147 + count258 + count0369;
        const percent147 = totalGrupos > 0 ? Math.round((count147 / totalGrupos) * 100) : 0;
        const percent258 = totalGrupos > 0 ? Math.round((count258 / totalGrupos) * 100) : 0;
        const percent0369 = totalGrupos > 0 ? Math.round((count0369 / totalGrupos) * 100) : 0;
        
        const totalCimaBaixo = countCima10 + countBaixo0;
        const percentCima10 = totalCimaBaixo > 0 ? Math.round((countCima10 / totalCimaBaixo) * 100) : 0;
        const percentBaixo0 = totalCimaBaixo > 0 ? Math.round((countBaixo0 / totalCimaBaixo) * 100) : 0;
        
        const totalLados = countLadoE + countLadoD;
        const percentLadoE = totalLados > 0 ? Math.round((countLadoE / totalLados) * 100) : 0;
        const percentLadoD = totalLados > 0 ? Math.round((countLadoD / totalLados) * 100) : 0;
        
        document.getElementById('percent147').textContent = percent147 + '%';
        document.getElementById('count147').textContent = `${count147}/${total}`;
        document.getElementById('percent258').textContent = percent258 + '%';
        document.getElementById('count258').textContent = `${count258}/${total}`;
        document.getElementById('percent0369').textContent = percent0369 + '%';
        document.getElementById('count0369').textContent = `${count0369}/${total}`;
        document.getElementById('percentCima10').textContent = percentCima10 + '%';
        document.getElementById('countCima10').textContent = `${countCima10}/${total}`;
        document.getElementById('percentBaixo0').textContent = percentBaixo0 + '%';
        document.getElementById('countBaixo0').textContent = `${countBaixo0}/${total}`;
        document.getElementById('percentLadoE').textContent = percentLadoE + '%';
        document.getElementById('countLadoE').textContent = `${countLadoE}/${total}`;
        document.getElementById('percentLadoD').textContent = percentLadoD + '%';
        document.getElementById('countLadoD').textContent = `${countLadoD}/${total}`;
        
        destacarMaiorPercentual();
    }

    function destacarMaiorPercentual() {
        document.querySelectorAll('.stat-group').forEach(el => {
            el.classList.remove('highlight-stat');
        });
        
        const percents = [
            { id: 'grupo147', value: parseInt(document.getElementById('percent147').textContent) },
            { id: 'grupo258', value: parseInt(document.getElementById('percent258').textContent) },
            { id: 'grupo0369', value: parseInt(document.getElementById('percent0369').textContent) },
            { id: 'ladoCima10', value: parseInt(document.getElementById('percentCima10').textContent) },
            { id: 'ladoBaixo0', value: parseInt(document.getElementById('percentBaixo0').textContent) },
            { id: 'ladoE', value: parseInt(document.getElementById('percentLadoE').textContent) },
            { id: 'ladoD', value: parseInt(document.getElementById('percentLadoD').textContent) }
        ];
        
        const maior = Math.max(...percents.map(p => p.value));
        
        percents.forEach(p => {
            if (p.value === maior && p.value > 0) {
                document.getElementById(p.id).classList.add('highlight-stat');
            }
        });
    }

    // ========== TABELA DE N√öMEROS ==========
    function criarTabelaNumeros() {
        const tabela = document.getElementById('numbersTable');
        tabela.innerHTML = '';
        
        const redNumbers = [32, 19, 21, 25, 34, 27, 36, 30, 23, 5, 16, 1, 14, 9, 18, 7, 12, 3];
        
        const zeroRow = document.createElement('div');
        zeroRow.className = 'zero-row';
        const zeroBtn = document.createElement('div');
        zeroBtn.className = 'number-btn zero';
        zeroBtn.textContent = '0';
        zeroBtn.onclick = () => adicionarNumeroClicado(0);
        zeroRow.appendChild(zeroBtn);
        tabela.appendChild(zeroRow);
        
        const row1 = document.createElement('div');
        row1.className = 'numbers-row';
        [3,6,9,12,15,18,21,24,27,30,33,36].forEach(num => {
            const btn = document.createElement('div');
            btn.className = `number-btn ${redNumbers.includes(num) ? 'red' : 'black'}`;
            btn.textContent = num;
            btn.onclick = () => adicionarNumeroClicado(num);
            row1.appendChild(btn);
        });
        tabela.appendChild(row1);
        
        const row2 = document.createElement('div');
        row2.className = 'numbers-row';
        [2,5,8,11,14,17,20,23,26,29,32,35].forEach(num => {
            const btn = document.createElement('div');
            btn.className = `number-btn ${redNumbers.includes(num) ? 'red' : 'black'}`;
            btn.textContent = num;
            btn.onclick = () => adicionarNumeroClicado(num);
            row2.appendChild(btn);
        });
        tabela.appendChild(row2);
        
        const row3 = document.createElement('div');
        row3.className = 'numbers-row';
        [1,4,7,10,13,16,19,22,25,28,31,34].forEach(num => {
            const btn = document.createElement('div');
            btn.className = `number-btn ${redNumbers.includes(num) ? 'red' : 'black'}`;
            btn.textContent = num;
            btn.onclick = () => adicionarNumeroClicado(num);
            row3.appendChild(btn);
        });
        tabela.appendChild(row3);
    }

    function adicionarNumeroClicado(numero) {
        document.getElementById('numberInput').value = numero;
        addNumber();
    }

    // ========== FUN√á√ÉO DE PROBABILIDADE √öNICA ==========
    function calcularProbabilidade(pattern) {
        let prob = 0;
        
        const p147 = parseInt(document.getElementById('percent147')?.textContent || '0');
        const p258 = parseInt(document.getElementById('percent258')?.textContent || '0');
        const p0369 = parseInt(document.getElementById('percent0369')?.textContent || '0');
        const pCima10 = parseInt(document.getElementById('percentCima10')?.textContent || '0');
        const pBaixo0 = parseInt(document.getElementById('percentBaixo0')?.textContent || '0');
        const pLadoE = parseInt(document.getElementById('percentLadoE')?.textContent || '0');
        const pLadoD = parseInt(document.getElementById('percentLadoD')?.textContent || '0');
        
        if (pattern.type === 'terminal' && pattern.targetDisplay.includes('T')) {
            const terminal = parseInt(pattern.targetDisplay.match(/T(\d)/)?.[1] || 0);
            
            let grupo = 0;
            if ([1,4,7].includes(terminal)) grupo = p147;
            else if ([2,5,8].includes(terminal)) grupo = p258;
            else if ([0,3,6,9].includes(terminal)) grupo = p0369;
            
            let lado = terminal <= 5 ? pCima10 : pBaixo0;
            let setor = terminal <= 5 ? pLadoD : pLadoE;
            
            prob = Math.round((grupo * 0.4) + (lado * 0.3) + (setor * 0.3));
        }
        
        else if (pattern.name === 'Alvo Duplo' && pattern.targetNumbers && pattern.targetNumbers[0]) {
            const targetNum = pattern.targetNumbers[0];
            
            let grupo = 0;
            if (GRUPO_147.includes(targetNum)) grupo = p147;
            else if (GRUPO_258.includes(targetNum)) grupo = p258;
            else if (GRUPO_0369.includes(targetNum)) grupo = p0369;
            
            let lado = CIMA_10.includes(targetNum) ? pCima10 : pBaixo0;
            let setor = LADO_E.includes(targetNum) ? pLadoE : pLadoD;
            
            const totalNumeros = numbersHistory.length;
            const countNumero = numbersHistory.filter(n => n === targetNum).length;
            const historico = totalNumeros > 0 ? Math.round((countNumero / totalNumeros) * 100) : 0;
            
            prob = Math.round((grupo * 0.25) + (lado * 0.25) + (setor * 0.25) + (historico * 0.25));
        }
        
        else if (pattern.name === 'Alvo G√™meos') {
            const maiorGrupo = Math.max(p147, p258, p0369);
            const lado = pCima10;
            const setor = pLadoD;
            
            let totalHistorico = 0;
            [11,22,33].forEach(num => {
                totalHistorico += numbersHistory.filter(n => n === num).length;
            });
            const historico = numbersHistory.length > 0 ? Math.round((totalHistorico / numbersHistory.length) * 100) : 0;
            
            prob = Math.round((maiorGrupo * 0.3) + (lado * 0.2) + (setor * 0.3) + (historico * 0.2));
        }
        
        else if (pattern.name === 'Alvo Tri√¢ngulo') {
            const maiorGrupo = Math.max(p147, p258, p0369);
            const lado = Math.round((pCima10 * 2 + pBaixo0) / 3);
            const setor = Math.round((pLadoE * 2 + pLadoD) / 3);
            
            let totalHistorico = 0;
            [30,31,32].forEach(num => {
                totalHistorico += numbersHistory.filter(n => n === num).length;
            });
            const historico = numbersHistory.length > 0 ? Math.round((totalHistorico / numbersHistory.length) * 100) : 0;
            
            prob = Math.round((maiorGrupo * 0.25) + (lado * 0.25) + (setor * 0.25) + (historico * 0.25));
        }
        
        return Math.min(prob, 100);
    }

    function getClassificacao(prob) {
        if (prob >= 40) return { texto: 'TOP üî•', classe: 'status-top' };
        if (prob >= 30) return { texto: 'BOM üìà', classe: 'status-bom' };
        return { texto: 'FRACO ‚ö†Ô∏è', classe: 'status-fraco' };
    }

    function getTestesNecessarios(pattern) {
        if (pattern.type === 'terminal' && pattern.targetDisplay.includes('T')) {
            const terminal = parseInt(pattern.targetDisplay.match(/T(\d)/)?.[1] || 0);
            if ([7,8,9].includes(terminal)) {
                return 5;
            }
        }
        return 3;
    }

    // ========== SEU C√ìDIGO ORIGINAL DA ROLETA ==========
    const wheelSequence = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
    const redNumbers = [32, 19, 21, 25, 34, 27, 36, 30, 23, 5, 16, 1, 14, 9, 18, 7, 12, 3];
    
    let numbersHistory = [];
    let activePatterns = [];
    let confirmedPatterns = [];
    let completedPatterns = [];
    let stats = {
        totalNumbers: 0,
        patternsTriggered: 0,
        patternsConfirmed: 0,
        patternsCancelled: 0,
        greenSignals: 0,
        redSignals: 0
    };
    let multipleConfirmationsBlock = false;

    function inicializarSistema() {
        criarTabelaNumeros();
        loadFromLocalStorage();
        updateDisplay();
        
        document.getElementById('addNumberBtn').addEventListener('click', addNumber);
        document.getElementById('numberInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') addNumber();
        });
        document.getElementById('clearLastBtn').addEventListener('click', clearLastNumber);
        document.getElementById('clearBtn').addEventListener('click', clearHistory);
        document.getElementById('resetBtn').addEventListener('click', resetAll);
        
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });
    }

    function addNumber() {
        const input = document.getElementById('numberInput');
        const number = parseInt(input.value);
        
        if (isNaN(number) || number < 0 || number > 36) {
            alert('Por favor, digite um n√∫mero v√°lido entre 0 e 36.');
            return;
        }
        
        numbersHistory.push(number);
        stats.totalNumbers++;
        
        processNewNumber(number);
        
        input.value = '';
        input.focus();
        
        updateDisplay();
        saveToLocalStorage();
    }

    // ========== CORRE√á√ÉO 1: APAGAR PADR√ïES JUNTO COM O N√öMERO ==========
    function clearLastNumber() {
        if (numbersHistory.length > 0) {
            const removed = numbersHistory.pop();
            stats.totalNumbers--;
            
            // REMOVER TODOS OS PADR√ïES QUE FORAM CRIADOS POR ESTE N√öMERO
            const beforeCount = activePatterns.length;
            activePatterns = activePatterns.filter(pattern => {
                // Verifica se o gatilho cont√©m o n√∫mero removido
                if (pattern.trigger && pattern.trigger.includes(removed.toString())) {
                    console.log(`üóëÔ∏è Padr√£o ${pattern.name} removido (gatilho: ${pattern.trigger})`);
                    return false;
                }
                return true;
            });
            
            console.log(`‚Ü©Ô∏è N√∫mero ${removed} removido. ${activePatterns.length} padr√µes ativos restantes (removidos ${beforeCount - activePatterns.length})`);
            updateDisplay();
            saveToLocalStorage();
        }
    }

    function processNewNumber(number) {
        console.log(`=== PROCESSANDO N√öMERO ${number} ===`);
        
        checkConfirmedPatternResults(number);
        
        activePatterns.forEach(pattern => {
            if (pattern.status === 'active' && pattern.cancellationSet.includes(number)) {
                pattern.status = 'cancelled';
                pattern.cancelledBy = number;
                stats.patternsCancelled++;
                console.log(`‚ùå ${pattern.name} CANCELADO por ${number}`);
            }
        });
        
        activePatterns.forEach(pattern => {
            if (pattern.status === 'active') {
                if (!pattern.cancellationSet.includes(number)) {
                    pattern.confirmationCount++;
                    
                    const testesNecessarios = getTestesNecessarios(pattern);
                    console.log(`üîÑ ${pattern.name}: ${pattern.confirmationCount}/${testesNecessarios}`);
                    
                    if (pattern.confirmationCount >= testesNecessarios) {
                        pattern.status = 'confirmed';
                        pattern.confirmedAt = numbersHistory.length;
                        pattern.checkedNumbers = 0;
                        pattern.lastConfirmedNumber = number;
                        stats.patternsConfirmed++;
                        console.log(`‚úÖ ${pattern.name} CONFIRMADO! Aguardando pr√≥ximos 3 n√∫meros...`);
                        
                        confirmedPatterns.push(pattern);
                    }
                }
            }
        });
        
        activePatterns = activePatterns.filter(pattern => 
            pattern.status === 'active'
        );
        
        checkForNewPatterns();
        checkMultipleConfirmations();
    }

    // ========== CORRE√á√ÉO 2: PAGAR TODOS OS PADR√ïES QUE ACERTAREM ==========
    function checkConfirmedPatternResults(number) {
        // Processar TODOS os padr√µes confirmados, sem remover durante o loop
        const patternsToProcess = [...confirmedPatterns];
        let removedIndices = [];
        
        patternsToProcess.forEach((pattern, processIndex) => {
            if (pattern.status === 'confirmed') {
                // Verifica se √© o n√∫mero que confirmou - N√ÉO conta como teste
                if (number === pattern.lastConfirmedNumber) {
                    console.log(`‚è∏Ô∏è ${pattern.name}: N√∫mero ${number} causou a confirma√ß√£o, n√£o conta como teste`);
                } else {
                    // Incrementa o contador de testes
                    pattern.checkedNumbers = (pattern.checkedNumbers || 0) + 1;
                    console.log(`üìä ${pattern.name}: teste ${pattern.checkedNumbers}/3 (n√∫mero: ${number})`);
                    
                    // Verifica se acertou - PAGA TODOS QUE ACERTAREM
                    if (pattern.betNumbers.includes(number)) {
                        pattern.status = 'green';
                        pattern.finalResult = 'green';
                        pattern.winningNumber = number;
                        stats.greenSignals++;
                        console.log(`üéâ ${pattern.name} GREEN! Acertou com n√∫mero ${number}`);
                        
                        // Marca para remo√ß√£o
                        const originalIndex = confirmedPatterns.indexOf(pattern);
                        if (originalIndex !== -1) removedIndices.push(originalIndex);
                        
                        if (multipleConfirmationsBlock) multipleConfirmationsBlock = false;
                    } 
                    // Verifica se perdeu (3 testes sem acerto)
                    else if (pattern.checkedNumbers >= 3) {
                        pattern.status = 'red';
                        pattern.finalResult = 'red';
                        stats.redSignals++;
                        console.log(`‚ùå ${pattern.name} RED! N√£o acertou em 3 rodadas ap√≥s confirma√ß√£o`);
                        
                        // Marca para remo√ß√£o
                        const originalIndex = confirmedPatterns.indexOf(pattern);
                        if (originalIndex !== -1) removedIndices.push(originalIndex);
                        
                        if (multipleConfirmationsBlock) multipleConfirmationsBlock = false;
                    }
                }
            }
        });
        
        // Remove os padr√µes processados (do maior √≠ndice para o menor)
        if (removedIndices.length > 0) {
            removedIndices.sort((a, b) => b - a).forEach(index => {
                const removed = confirmedPatterns.splice(index, 1)[0];
                completedPatterns.push(removed);
            });
        }
    }

    function checkMultipleConfirmations() {
        if (confirmedPatterns.length > 1 && !multipleConfirmationsBlock) {
            console.log("‚ö†Ô∏è M√öLTIPLOS CONFIRMADOS DETECTADOS!");
            multipleConfirmationsBlock = true;
        }
        if (confirmedPatterns.length <= 1 && multipleConfirmationsBlock) {
            multipleConfirmationsBlock = false;
        }
    }

    function checkForNewPatterns() {
        if (numbersHistory.length < 2) return;
        if (multipleConfirmationsBlock) {
            console.log("üö´ Bloqueio ativo: n√£o criando novos padr√µes");
            return;
        }
        
        const lastIndex = numbersHistory.length - 1;
        const currentNumber = numbersHistory[lastIndex];
        const lastNumber = numbersHistory[lastIndex - 1];
        
        console.log(`üîç Verificando padr√µes entre: ${lastNumber} e ${currentNumber}`);
        
        if (currentNumber === lastNumber && currentNumber !== 36) {
            const target = (currentNumber + 1) % 37;
            const neighbors = getNeighborsInWheel(target, 3);
            const cancellationSet = [target, ...neighbors];
            const betNumbers = [target, ...neighbors];
            
            const pattern = {
                id: generateId(),
                strategy: 1,
                name: 'Alvo Duplo',
                trigger: `${currentNumber}, ${currentNumber}`,
                targetDisplay: `${target} com 6V`,
                targetNumbers: [target],
                betNumbers: betNumbers,
                cancellationSet: cancellationSet,
                status: 'active',
                confirmationCount: 0,
                betSize: betNumbers.length,
                type: 'specific',
                createdAt: Date.now()
            };
            
            if (!isPatternDuplicate(pattern)) {
                activePatterns.push(pattern);
                stats.patternsTriggered++;
                console.log(`üéØ NOVO: Alvo Duplo para ${target} com 6V`);
            }
        }
        
        const lastTerminal = lastNumber % 10;
        const currentTerminal = currentNumber % 10;
        
        if (currentTerminal === lastTerminal && currentNumber !== lastNumber && currentTerminal !== 0) {
            const targetTerminal = (currentTerminal - 1 + 10) % 10;
            createTerminalPattern('Alvo Alternado', `${lastNumber} (T${lastTerminal}), ${currentNumber} (T${currentTerminal})`, targetTerminal);
        }
        
        const diff = Math.abs(currentTerminal - lastTerminal);
        if (diff === 1) {
            const isAscending = currentTerminal > lastTerminal;
            let targetTerminal;
            if (isAscending) {
                targetTerminal = (currentTerminal + 1) % 10;
            } else {
                targetTerminal = (Math.min(currentTerminal, lastTerminal) - 1 + 10) % 10;
            }
            createTerminalPattern('Alvo Vari√°vel', `${lastNumber} (T${lastTerminal}), ${currentNumber} (T${currentTerminal})`, targetTerminal);
        }
        
        if (diff === 2) {
            const targetTerminal = Math.min(currentTerminal, lastTerminal) + 1;
            createTerminalPattern('Alvo Central', `${lastNumber} (T${lastTerminal}), ${currentNumber} (T${currentTerminal})`, targetTerminal);
        }
        
        if ([11, 22, 33].includes(currentNumber)) {
            createGemeosTriangulo('Alvo G√™meos', `${currentNumber}`, [11, 22, 33], 2);
        }
        
        if ([30, 31, 32].includes(currentNumber)) {
            createGemeosTriangulo('Alvo Tri√¢ngulo', `${currentNumber}`, [30, 31, 32], 2);
        }
    }

    function createTerminalPattern(name, trigger, targetTerminal) {
        const targetNumbers = getNumbersByTerminal(targetTerminal);
        const neighbors = [];
        
        targetNumbers.forEach(num => {
            neighbors.push(...getNeighborsInWheel(num, 1));
        });
        
        const cancellationSet = [...targetNumbers, ...neighbors];
        const betNumbers = [...targetNumbers, ...neighbors];
        
        const pattern = {
            id: generateId(),
            strategy: name === 'Alvo Alternado' ? 2 : name === 'Alvo Vari√°vel' ? 3 : 4,
            name: name,
            trigger: trigger,
            targetDisplay: `T${targetTerminal} com 1V`,
            targetNumbers: targetNumbers,
            betNumbers: betNumbers,
            cancellationSet: cancellationSet,
            status: 'active',
            confirmationCount: 0,
            betSize: betNumbers.length,
            type: 'terminal',
            createdAt: Date.now()
        };
        
        if (!isPatternDuplicate(pattern)) {
            activePatterns.push(pattern);
            stats.patternsTriggered++;
            console.log(`üéØ NOVO: ${name} para T${targetTerminal} com 1V`);
        }
    }

    function createGemeosTriangulo(name, trigger, targetNumbers, neighborCount) {
        const neighbors = [];
        
        targetNumbers.forEach(num => {
            neighbors.push(...getNeighborsInWheel(num, neighborCount));
        });
        
        const cancellationSet = [...targetNumbers, ...neighbors];
        const betNumbers = [...targetNumbers, ...neighbors];
        const displayName = name === 'Alvo G√™meos' ? 'G√™meos (11, 22, 33)' : 'Tri√¢ngulo (30, 31, 32)';
        
        const pattern = {
            id: generateId(),
            strategy: name === 'Alvo G√™meos' ? 5 : 6,
            name: name,
            trigger: trigger,
            targetDisplay: `${displayName} com ${neighborCount}V`,
            targetNumbers: targetNumbers,
            betNumbers: betNumbers,
            cancellationSet: cancellationSet,
            status: 'active',
            confirmationCount: 0,
            betSize: betNumbers.length,
            type: 'specific',
            createdAt: Date.now()
        };
        
        if (!isPatternDuplicate(pattern)) {
            activePatterns.push(pattern);
            stats.patternsTriggered++;
            console.log(`üéØ NOVO: ${name} com ${neighborCount}V`);
        }
    }

    function isPatternDuplicate(newPattern) {
        const isActiveDuplicate = activePatterns.some(pattern => 
            pattern.strategy === newPattern.strategy &&
            pattern.trigger === newPattern.trigger &&
            pattern.status === 'active'
        );
        const isConfirmedDuplicate = confirmedPatterns.some(pattern =>
            pattern.strategy === newPattern.strategy &&
            pattern.trigger === newPattern.trigger
        );
        return isActiveDuplicate || isConfirmedDuplicate;
    }

    function getNeighborsInWheel(number, count) {
        const index = wheelSequence.indexOf(number);
        if (index === -1) return [];
        const neighbors = [];
        for (let i = 1; i <= count; i++) {
            const aboveIndex = (index - i + wheelSequence.length) % wheelSequence.length;
            neighbors.push(wheelSequence[aboveIndex]);
            const belowIndex = (index + i) % wheelSequence.length;
            neighbors.push(wheelSequence[belowIndex]);
        }
        return neighbors;
    }

    function getNumbersByTerminal(terminal) {
        return wheelSequence.filter(num => num % 10 === terminal);
    }

    function generateId() {
        return Date.now().toString(36) + Math.random().toString(36).substr(2);
    }

    function getColorForNumber(num) {
        if (num === 0) return '#2E8B57';
        return redNumbers.includes(num) ? '#DC143C' : '#333';
    }

    function updateDisplay() {
        const numbersHistoryElement = document.getElementById('numbersHistory');
        numbersHistoryElement.innerHTML = '';
        
        if (numbersHistory.length === 0) {
            numbersHistoryElement.innerHTML = '<div style="color: var(--text-dim); align-self: center; width: 100%; text-align: center;">Nenhum n√∫mero adicionado ainda</div>';
        } else {
            numbersHistory.slice(-16).reverse().forEach((num, index) => {
                const isLatest = index === 0;
                const chip = document.createElement('div');
                chip.className = `number-chip ${num === 0 ? 'zero' : redNumbers.includes(num) ? 'red' : 'black'} ${isLatest ? 'latest' : ''}`;
                chip.textContent = num;
                const position = numbersHistory.length - index;
                chip.title = `Posi√ß√£o: ${position}${isLatest ? ' (√öltimo)' : ''}`;
                numbersHistoryElement.appendChild(chip);
            });
        }
        
        document.getElementById('totalNumbers').textContent = stats.totalNumbers;
        document.getElementById('activePatterns').textContent = activePatterns.length;
        document.getElementById('confirmedPatterns').textContent = confirmedPatterns.length;
        document.getElementById('greenSignals').textContent = stats.greenSignals;
        document.getElementById('redSignals').textContent = stats.redSignals;
        
        const confirmedHighlight = document.getElementById('confirmedPatternsHighlight');
        confirmedHighlight.innerHTML = '';
        
        if (confirmedPatterns.length > 0) {
            confirmedPatterns.forEach(pattern => {
                const panel = document.createElement('div');
                panel.className = 'panel confirmed-highlight';
                const numbersSinceConfirmation = pattern.checkedNumbers || 0;
                
                const prob = calcularProbabilidade(pattern);
                const classificacao = getClassificacao(prob);
                
                panel.innerHTML = `
                    <div class="panel-title">
                        <i>üö®</i> SINAL CONFIRMADO - APOSTE AGORA!
                    </div>
                    <div class="pattern-header">
                        <div class="pattern-title">${pattern.name}</div>
                        <div class="pattern-status status-confirmed">CONFIRMADO</div>
                    </div>
                    <div class="pattern-details"><strong>Gatilho:</strong> ${pattern.trigger}</div>
                    <div class="pattern-target">üéØ ${pattern.targetDisplay}</div>
                    <div class="pattern-status ${classificacao.classe}" style="margin: 10px 0; font-size: 1rem;">
                        ${classificacao.texto} ${prob}%
                    </div>
                    <div class="pattern-details"><strong>Tamanho da aposta:</strong> ${pattern.betSize} n√∫meros</div>
                    <div class="pattern-details"><strong>Testes GREEN/RED:</strong> ${numbersSinceConfirmation}/3</div>
                    <div class="pattern-details"><strong>N√∫meros para apostar:</strong></div>
                    <div class="pattern-numbers">
                        ${pattern.betNumbers.map(num => {
                            const isTarget = pattern.targetNumbers.includes(num);
                            const colorClass = num === 0 ? 'zero' : redNumbers.includes(num) ? 'red' : 'black';
                            return `<div class="pattern-number ${colorClass} ${isTarget ? 'target' : ''}" style="background-color: ${getColorForNumber(num)}">${num}</div>`;
                        }).join('')}
                    </div>
                `;
                confirmedHighlight.appendChild(panel);
            });
        }
        
        const activePatternsList = document.getElementById('activePatternsList');
        activePatternsList.innerHTML = '';
        
        const activePatternsFiltered = activePatterns.filter(pattern => pattern.status === 'active');
        
        if (activePatternsFiltered.length === 0) {
            activePatternsList.innerHTML = '<div style="color: var(--text-dim); text-align: center; padding: 30px;">Nenhum padr√£o ativo no momento</div>';
        } else {
            activePatternsFiltered.forEach(pattern => {
                const patternCard = document.createElement('div');
                patternCard.className = 'pattern-card';
                
                const prob = calcularProbabilidade(pattern);
                const classificacao = getClassificacao(prob);
                const testesNecessarios = getTestesNecessarios(pattern);
                
                patternCard.innerHTML = `
                    <div class="pattern-header">
                        <div class="pattern-title">${pattern.name}</div>
                        <div class="pattern-status status-active">Ativo</div>
                    </div>
                    <div class="pattern-details">Gatilho: ${pattern.trigger}</div>
                    <div class="pattern-target">üéØ ${pattern.targetDisplay}</div>
                    <div class="pattern-status ${classificacao.classe}" style="margin: 10px 0;">
                        ${classificacao.texto} ${prob}%
                    </div>
                    <div class="pattern-details">Aguardando confirma√ß√£o: ${pattern.confirmationCount}/${testesNecessarios}</div>
                `;
                
                activePatternsList.appendChild(patternCard);
            });
        }
        
        atualizarEstatisticas();
    }

    function clearHistory() {
        if (confirm('Tem certeza que deseja limpar o hist√≥rico?')) {
            numbersHistory = [];
            stats.totalNumbers = 0;
            updateDisplay();
            saveToLocalStorage();
        }
    }

    function resetAll() {
        if (confirm('Tem certeza que deseja reiniciar tudo?')) {
            numbersHistory = [];
            activePatterns = [];
            confirmedPatterns = [];
            completedPatterns = [];
            multipleConfirmationsBlock = false;
            stats = {
                totalNumbers: 0,
                patternsTriggered: 0,
                patternsConfirmed: 0,
                patternsCancelled: 0,
                greenSignals: 0,
                redSignals: 0
            };
            updateDisplay();
            localStorage.removeItem('arqueiroRouletteData');
        }
    }

    function saveToLocalStorage() {
        const data = {
            numbersHistory,
            stats,
            version: 'FINAL_COMPLETO'
        };
        localStorage.setItem('arqueiroRouletteData', JSON.stringify(data));
    }

    function loadFromLocalStorage() {
        const savedData = localStorage.getItem('arqueiroRouletteData');
        if (savedData) {
            try {
                const data = JSON.parse(savedData);
                numbersHistory = data.numbersHistory || [];
                stats = data.stats || {
                    totalNumbers: 0,
                    patternsTriggered: 0,
                    patternsConfirmed: 0,
                    patternsCancelled: 0,
                    greenSignals: 0,
                    redSignals: 0
                };
                activePatterns = [];
                confirmedPatterns = [];
                completedPatterns = [];
                multipleConfirmationsBlock = false;
                
                numbersHistory.forEach((num, index) => {
                    if (index > 0) processNewNumber(num);
                });
            } catch (e) {
                console.error("Erro ao carregar dados salvos:", e);
                numbersHistory = [];
                stats = {
                    totalNumbers: 0,
                    patternsTriggered: 0,
                    patternsConfirmed: 0,
                    patternsCancelled: 0,
                    greenSignals: 0,
                    redSignals: 0
                };
            }
        }
    }
    </script>
</body>
</html>
